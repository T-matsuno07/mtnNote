# Gitでドキュメントもバージョン管理したい！！

正直，こんなに反響があるとは思わなかった。  
そんな反響の中で多かったのが，「ドキュメントもバージョン管理したい！」という声である。  
仮にGitでのソース管理が始まった場合，次に話が波及するのはドキュメントのバージョン管理であるのは自明の解であろう。  
ドキュメントとソースコードは常に「一致」しているべきだし，ドキュメントだって
どの仕様書をどの施策で修正したのかをバージョン管理すれば，
より質の高い情報を短時間で得ることができる。  
加えて，在来や海外Grでシステムを流用する際に，ドキュメントも流用したいと考えるのは当然の摂理だし，
ソースコードが同じならドキュメントだって同じでいいはずである。違うところはブランチを切って，差分だけ修正すればよろしい。  

そんな声に応えするために，私が持っている知識を，「とりあえず」晒しておく。  
文書が長くなってしまったので，結論だけ先に列挙して置こう。

- Gitとバイナリファイルとの相性は「悪い」。なので，現在使用している仕様書をそのままバージョン管理するのはやめた方が良い。リポジトリの肥大化を招き，Gitの挙動が遅くなる。その結果，チーム全体の作業が全て遅くなる。
- マイクロソフト(ExcelとWord)の使用を辞めよう。これを辞めない限り，バージョン管理もペーパーレス化も実現できない。
- 新しいファイル形式に求められる条件は，
    - テキストデータ形式であること。  
    この条件が満たせないという理由で，オフィスを捨てるのだから。
    - 現在使用しているオフィスファイルから簡単にコンバージョンできること。
    - ファイル形式や技術が廃れないこと。  
    クラリスインパクトやVisioをWordに変換するのに，高い金を払った苦汁を忘れてはいけない。
    - 特別な閲覧ソフトを必要としないこと。  
    TSなどの全てのパソコンで閲覧できること。つまり，どのパソコンにも必ずインストールされている「インターネットブラウザ」で閲覧できること。
    - 見やすいこと。  
    表やフローチャート図などがキレイに表示されること。
    - ドキュメントの作成や編集が容易であること。簡単に修正ができること。加えて，特殊な技術を極力必要としないこと(教育コストが掛からないこと)。
    - ペーパーレス化を実現できること。電子データならではの強みがあること。
- 私が知っている知識の中で，条件を全て出来る選択肢は，「``Markdown``」ぐらいしか知らない。ローカルPCに「``Atom``」エディタを入れて編集する方式を採用すれば，上記の条件を全てクリアできるはず。というより，上記の条件を全て満たすために，``Github開発が開発した``のが，「 Markdown + Atom 」なので，当然と入れば当然か。



以下，詳しい考察内容。
ダラダラと書いてしまったので，紙に印刷して，喫煙所でタバコを吸いながら読むと良いかもしれない。

# オフィスを再考察する

そもそもなぜ，オフィスを使っているのか？  
この点について再考察してみるよう。  


``オフィスを使っている理由``
- 現状使っているから。  
最強の理由である。  
オフィスを使い続ける限り，作業者を再教育したり，ファイル形式をコンバージョンする作業やお金は必要としない。  
これに対する反論はない。
- 誰でも簡単に使えるから。
- 顧客や他部署を含め，みんな使っているファイルのため，互換性を気にしなくて良いから。

``オフィスを辞める理由``
- gitと相性が悪いから。
- 情報が，行方不明になりやすいから。
- 紙の資料がなくならないから。
- 資料作りに掛かる時間が長いから。

## 誰でも使えることを作業効率が良いことは違う

Excelのインターフェイスは本当に洗練されていると思う。  
Apple社のパソコンを使っている人達がMicrosoft社のOSを小馬鹿にしている書き込みがネットで散見されるが，そういったApple社の製品を盲信している人達からしても，「ExcelとVisual Studioの完成度はスゴイ！」という賞賛を浴びている。  

が，それはあくまで「表計算ソフト」としてである。  
間違っても，フローチャートやシーケンス図を書くためのツールとして評価されているわけではない。  

確かに，きんきゅう集計作業など，
数字を集計する経理や事務職では，Excelが最強である。  
しかし，私達が表計算をする場面など，せいぜい見積もりを作成する時ぐらいである。  
それ以外の場面で，数字を集計する場面などほとんどない。  
じゃぁ，なんでExcelを使っているのかというと，Excelを使っている一番の用途は，``作図``である。  

詳しい説明は不要だと思うが，Excelには多種多様な図形が用意してあり，それらをマウスで自由に配置することができる。  

作図している図を視覚的に捉えながら，マウスで直感的に操作できるGUIは確かに誰でも簡単に使える。  




数多に存在するPCのアプリケーションの中でもExcelの認知度と利用者の数は群を抜いていると思う。  

しかし，覚えて置いて欲しいのは，これからの若い人達は，私達オッサンみたいに，パソコンやオフィスがほいほい使える訳ではないということである。  
そんなもん学生のうちに学んでくるもんだろう！というツッコミを受けそうだが，これからの若い人はスマホ世代である。大学入学までパソコンをほとんど使ったことがありませんでした，という人が入社してくる時代がやってくる可能性も十分考えられる。  
加えて，私の経験を言わせて貰えば，大学生活において，Wordを使った記憶は一度たりともない。レポートや論文は全てLatexで書いていたし，大学院に進学してからは，ゼミ用のプレゼン資料もLatexで書いていた。当時のオフィスのバージョンでは難しい数式が出力できなかったという理由もあったが，一番のレイアウトをいちいち考えたり微調整するのが面倒になったというのが一番の理由である。  
アニメーションをバンバン使うプレゼンでない限り，テキストや図の配置は全て機械任せにしたほうが楽だし，綺麗にデザインしてくれる。  
結局は慣れの問題だが，究極的に極めれば「キーボードで作業 >>> マウスで作業」である。みんな，コピペは，Ctrl + C -> Ctrl + V で行っているだろう？つまりそういうことだ。
資料作りの全てをキーボードで行えるようになれば，作業効率は必ず上がる。  

使いこなせるまで，教育するのが大変という意見があるかもしれないが，フローチャートなどの定番の図は，テンプレートが決まっているので，雛形さえ作ってしまえば，要素を書き加えていくだけで簡単かつ短時間で作成することが可能である。

## gitとの相性が悪い
gitはテキストファイルを管理するのに最適化されており，バイナリファイルを管理するのには適していない。

管理できないわけではないが，差分機能が効かないので，バージョン間の5W1H情報を管理するというバージョン管理ソフトの強みがほとんど享受できない状態となる。

後，試したわけではないが，バイナリファイルを効率良く保管する仕組みは無いはずなので，リポジトリの肥大化や，Gitが重くなる事態を招きかねない。

## どうして紙の資料がなくならないのか？

### 紙が一番見やすいから

現状扱っている資料は，どの資料であっても，原則として，紙に印刷して閲覧するのが閲覧しやすいように作ってある。  
その理由を単刀直入に言ってしまえば，使っているフォーマットが
「紙に印刷した際に見やすくなるようにレイアウトされているフォーマットを使っているから」である。  
紙とパソコンのディスプレイでは，画面の大きさや縦横比が異なるのだから，紙に印字して閲覧することを前提にデザインされている資料を，パソコンやタブレットで閲覧しても見づらいのは当たり前である。  
資料は，目で見るための物であり，一番見やすい媒体で見る方が作業効率や理解度も上がるのは否定しようがない事実であるから，
このレイアウト問題を片付けない限り，一番見やすい「紙」による閲覧は一生変わらない。  

### 黄塗りする文化があるから

私が新人だったころに，当時の部長から，「上長に見せる資料は全て黄塗りして持ってくるのが，ここの常識だ」と言われたことを今でも覚えている。  

確かに一度紙に印刷し，自分が作成した資料にチェックマークを付けながら読み返すことで，内容の誤りや誤字脱字を見つけ出すことができる。  
なので，作業者が一度紙に印刷して生塗りする作業自体を否定するつもりは甚だない。  

しかし，その黄塗りした紙の資料をそのまま「マスター」としてそのまま回覧する必要性はない。たしかに，審査者や承認者からすれば，「黄塗りしてある＝担当者が自ら確認作業をした」という確認になるかもしれないが，そもそもその生塗りが，「一字一句確認しながら塗ったモノ」なのか「手順書書かれているからとりあえず塗ったモノ」なのかを，見抜く術はないのだから，塗ってあることを確認することが必ずしも品質向上に繋がるとは思わない。  

私の個人的な意見を言わせて貰えば，黄色く塗ってこさせるより，審査者の前で資料を音読させた方がよっぽど誤字脱字が見つけ出せる。審査者が音読を聞く負担が増えるじゃないか！というツッコミを受けるかもしれないが，審査者が始まりから終わりまで一字一句逃さずに聞いている必要性はない。大抵の人は，声に出して読めば，文章のおかしな所に自分で気付いて直す。音読しても自分のミスに気づかない人は生塗りしても気づかないと思うし，音読中に資料のミスに気付いたのに書いてある文章と違う文章を声に出して誤魔化す人は生塗りでも誤魔化す。

となると，黄色く塗る理由は，今回の修正計画で変更した箇所を強調するという狙いは，「修正した箇所を強調させる」という狙いに絞られるのだが，Gitでドキュメントをバージョン管理をした場合，修正箇所の強調作業を，担当者がわざわざ実施する必要はない。なにせ，どこをどうなおしたかなんて，Gitがすべてリストアップしてるのだから。


### 紙に印刷することでメモを記入できる

解決策が見つからない。  
スティーブ・ジョブズだって，プレゼンテーションのアイディアを練る際は，髪とペンを使っていた。  
自分が学んだことやアイディアをまとめる際に，紙＆ペンを超える組み合わせはない。



## 顧客は紙による竣工図書を望んでいるのか？

そもそも顧客が本当に「紙の資料」を望んでいるかも甚だ疑問である。  
少なくとも，私が「竣工図書を受け取る側の人間」だったら，竣工図書の納品の度に，大量のキングジムファイルが送られてくるのはごめん頂きたい。  
キングジムファイルを貰った所で，貰った紙媒体をスキャンして電子データ化したら，オンラインシステムがお役御免となるまで一生キャビネットの中で眠っているのがオチである。
加えて，顧客のオフィスは東京都心からほど近い首都圏にある(本当に羨ましい限りだ！)ので，キャビネットの空間を維持するだけでも，莫大な金が掛かる。  
それなら，最初から，スキャンしたデータを格納しているDVDファイルを貰った方が，手間も維持費も省ける。

私達同様，顧客だって働き方改革の一環で，紙媒体の利用をやめたいという声が上がっているはずである。  
どうしても紙で欲しいというのであれば，提供することになる電子データに，「紙媒体にはない付加価値」を付けてわたせば良い。  
そして，その付加価値の有用性を顧客に訴え，顧客によって本当に有用な資料を「有償」で提供できれば，ステークホルダーはみなハッピーとなれるはずである。

# テスト
<script src="raphael-min.js"></script>
<script src="flowchart-lastest.js"></script>

st=>start: 処理開始
e=>end: 処理終了
io1=>inputoutput: データ入力
cond=>condition: 入力値が空
でない？
io2=>inputoutput: エラー出力
（※1）:>#footnote
sub1=>subroutine: 入力値の検証
（※2）:>http://www.google.com[blank]
op1=>operation: セッション開始

st->io1->cond
cond(yes)->sub1->op1->e
cond(no)->io2(right)->io1
